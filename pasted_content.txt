        this.io.on('connection', (socket) => {
            console.log(`Novo jogador conectado: ${socket.id}`);
            
            // Login do jogador
            socket.on('playerLogin', (playerData) => {
                this.handlePlayerLogin(socket, playerData);
            });
            
            // Movimento do jogador
            socket.on('playerMove', (movementData) => {
                this.handlePlayerMove(socket.id, movementData);
            });
            
            // DesconexÃ£o
            socket.on('disconnect', () => {
                this.handlePlayerDisconnect(socket.id);
            });
        });
        
        // Atualizar estado do mundo periodicamente
        setInterval(() => this.broadcastWorldState(), 1000 / 20); // 20 FPS
    }
    
    handlePlayerLogin(socket, playerData) {
        const player = {
            id: socket.id,
            name: playerData.name,
            class: playerData.class,
            level: playerData.level,
            exp: playerData.exp,
            position: {
                x: Math.random() * 20 - 10, // PosiÃ§Ã£o inicial aleatÃ³ria
                y: 0,
                z: Math.random() * 20 - 10
            },
            rotation: 0,
            stats: this.getBaseStats(playerData.class)
        };
        
        // Adicionar ao mapa de jogadores
        this.players.set(socket.id, player);
        
        // Enviar estado inicial para o jogador
        socket.emit('worldState', {
            players: Array.from(this.players.values()),
            timestamp: Date.now()
        });
        
        // Notificar outros jogadores
        socket.broadcast.emit('playerJoined', player);
        
        // Atualizar contador
        this.broadcastPlayerCount();
    }
    
    handlePlayerMove(playerId, movementData) {
        const player = this.players.get(playerId);
        if (player) {
            player.position = movementData.position;
            player.rotation = movementData.rotation;
            
            // Broadcast para outros jogadores
            this.io.to(playerId).emit('playerMoved', {
                id: playerId,
                position: player.position,
                rotation: player.rotation
            });
        }
    }
    
    handlePlayerDisconnect(playerId) {
        if (this.players.has(playerId)) {
            this.players.delete(playerId);
            
            // Notificar outros jogadores
            this.io.emit('playerLeft', playerId);
            
            // Atualizar contador
            this.broadcastPlayerCount();
            
            console.log(`Jogador desconectado: ${playerId}`);
        }
    }
    
    getBaseStats(className) {
        const baseStats = {
            warrior: { hp: 150, mp: 50, attack: 15, defense: 20 },
            rogue: { hp: 100, mp: 80, attack: 20, defense: 10 },
            mage: { hp: 80, mp: 150, attack: 25, defense: 5 },
            priest: { hp: 120, mp: 120, attack: 10, defense: 15 }
        };
        
        return baseStats[className] || baseStats.warrior;
    }
    
    broadcastWorldState() {
        this.worldState.players = Array.from(this.players.values());
        this.worldState.timestamp = Date.now();
        
        this.io.emit('worldState', this.worldState);
    }
    
    broadcastPlayerCount() {
        this.io.emit('playerCount', this.players.size);
    }
    
    start(port = 3000) {
        this.server.listen(port, () => {
            console.log(`Servidor rodando na porta ${port}`);
            console.log(`Acesse: http://localhost:${port}`);
        });
    }
}

// Iniciar servidor
const gameServer = new GameServer();
gameServer.start(3000);
10. package.json (Servidor)
json
{
  "name": "knight-online-web-server",
  "version": "1.0.0",
  "description": "MMORPG 3D Web estilo Knight Online",
  "main": "server/server.js",
  "scripts": {
    "start": "node server/server.js",
    "dev": "nodemon server/server.js"
  },
  "dependencies": {
    "express": "^4.18.2",
    "socket.io": "^4.5.0",
    "sqlite3": "^5.1.4"
  },
  "devDependencies": {
    "nodemon": "^2.0.20"
  }
}
ğŸš€ COMO EXECUTAR O PROJETO
Passo 1: Configurar o servidor
bash
# Navegar atÃ© a pasta do servidor
cd server

# Instalar dependÃªncias
npm install

# Iniciar servidor
npm run dev
Passo 2: Configurar o cliente
bash
# Navegar atÃ© a pasta do cliente
cd client

# Servir os arquivos (use qualquer servidor HTTP)
# Exemplo com Python:
python -m http.server 8000

# Ou com Node.js:
npx serve .
Passo 3: Acessar o jogo
Abra o navegador

Acesse: http://localhost:3000

Crie seu personagem

Divirta-se!

ğŸ“ˆ PRÃ“XIMOS PASSOS PARA EVOLUÃ‡ÃƒO
Fase 2: Sistema de Combate
Ataques bÃ¡sicos

Sistema de alvo

Barras de vida dos inimigos

Cooldown de habilidades

Fase 3: Monstros PvE
Spawn de monstros

IA bÃ¡sica de monstros

Sistema de drops

Ganho de experiÃªncia

Fase 4: Sistema de ProgressÃ£o
Level up

Atributos por nÃ­vel

Equipamentos

InventÃ¡rio

Fase 5: ConteÃºdo AvanÃ§ado
Guildas

PvP

Economia (mercado)

Quests (missÃµes)

Mapas adicionais

ğŸ”§ OTIMIZAÃ‡Ã•ES RECOMENDADAS
LOD (Level of Detail)

Reduzir polÃ­gonos para objetos distantes

Sistema de frustum culling

CompressÃ£o de Texturas

Usar formato WebP

Mipmapping

Pool de Objetos

Reutilizar objetos 3D

Prevenir garbage collection

Web Worker

Processamento de fÃ­sica em thread separada

CÃ¡lculos de pathfinding assÃ­ncronos

ğŸ¯ MVP ATUAL ENTREGUE
âœ… Cena 3D no navegador - Three.js funcionando
âœ… Personagem controlÃ¡vel - Movimento WASD
âœ… CÃ¢mera funcional - Terceira pessoa/orbit controls
âœ… Mapa bÃ¡sico - Terreno com vegetaÃ§Ã£o
âœ… ConexÃ£o multiplayer - WebSocket com Socket.IO
âœ… Ver outros jogadores - SincronizaÃ§Ã£o em tempo real
âœ… MovimentaÃ§Ã£o sincronizada - InterpolaÃ§Ã£o suave

ğŸ“ NOTAS TÃ‰CNICAS
Performance: Otimizado para rodar em navegadores modernos

Escalabilidade: Arquitetura preparada para sharding de servidores

Modular: CÃ³digo separado por responsabilidades

ExtensÃ­vel: Facilita adiÃ§Ã£o de novos sistemas

PrÃ³ximos passos sugeridos:

Implementar sistema de combate bÃ¡sico

Adicionar monstros PvE

Criar sistema de inventÃ¡rio

Implementar banco de dados para persistÃªncia

O projeto estÃ¡ estruturado para crescer de forma organizada! ğŸš€